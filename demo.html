<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EnterpriseCashFlow Design System Demo</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background-color: #f8fafc;
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-size: 18px;
            color: #64748b;
        }
        
        .error {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-size: 18px;
            color: #dc2626;
            text-align: center;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading">Loading Design System Demo...</div>
    </div>

    <script type="text/babel">
        // Design Tokens
        const designTokens = {
            colors: {
                white: '#ffffff',
                black: '#000000',
                primary: {
                    50: '#eff6ff',
                    100: '#dbeafe',
                    200: '#bfdbfe',
                    300: '#93c5fd',
                    400: '#60a5fa',
                    500: '#3b82f6',
                    600: '#2563eb',
                    700: '#1d4ed8',
                    800: '#1e40af',
                    900: '#1e3a8a'
                },
                secondary: {
                    50: '#f8fafc',
                    100: '#f1f5f9',
                    200: '#e2e8f0',
                    300: '#cbd5e1',
                    400: '#94a3b8',
                    500: '#64748b',
                    600: '#475569',
                    700: '#334155',
                    800: '#1e293b',
                    900: '#0f172a'
                },
                success: {
                    50: '#f0fdf4',
                    500: '#22c55e',
                    600: '#16a34a',
                    700: '#15803d'
                },
                warning: {
                    50: '#fffbeb',
                    500: '#f59e0b',
                    600: '#d97706',
                    700: '#b45309'
                },
                danger: {
                    50: '#fef2f2',
                    500: '#ef4444',
                    600: '#dc2626',
                    700: '#b91c1c'
                }
            },
            spacing: {
                1: '4px',
                2: '8px',
                3: '12px',
                4: '16px',
                5: '20px',
                6: '24px',
                8: '32px'
            },
            typography: {
                fontSize: {
                    sm: ['14px', '20px'],
                    base: ['16px', '24px'],
                    lg: ['18px', '28px'],
                    xl: ['20px', '28px'],
                    '2xl': ['24px', '32px'],
                    '3xl': ['30px', '36px']
                },
                fontWeight: {
                    normal: 400,
                    medium: 500,
                    semibold: 600,
                    bold: 700
                },
                lineHeight: {
                    tight: 1.25,
                    normal: 1.5,
                    relaxed: 1.625
                }
            },
            borderRadius: {
                sm: '2px',
                md: '6px',
                lg: '8px',
                xl: '12px'
            }
        };

        // Simple Button Component
        const Button = ({ children, variant = 'primary', size = 'md', loading = false, disabled = false, onClick, ...props }) => {
            const baseStyles = {
                display: 'inline-flex',
                alignItems: 'center',
                justifyContent: 'center',
                border: 'none',
                borderRadius: designTokens.borderRadius.md,
                fontWeight: designTokens.typography.fontWeight.medium,
                cursor: disabled || loading ? 'not-allowed' : 'pointer',
                transition: 'all 0.2s ease-in-out',
                textDecoration: 'none',
                outline: 'none',
                position: 'relative'
            };

            const sizeStyles = {
                sm: {
                    padding: `${designTokens.spacing[2]} ${designTokens.spacing[3]}`,
                    fontSize: designTokens.typography.fontSize.sm[0],
                    lineHeight: designTokens.typography.fontSize.sm[1]
                },
                md: {
                    padding: `${designTokens.spacing[3]} ${designTokens.spacing[4]}`,
                    fontSize: designTokens.typography.fontSize.base[0],
                    lineHeight: designTokens.typography.fontSize.base[1]
                },
                lg: {
                    padding: `${designTokens.spacing[4]} ${designTokens.spacing[6]}`,
                    fontSize: designTokens.typography.fontSize.lg[0],
                    lineHeight: designTokens.typography.fontSize.lg[1]
                }
            };

            const variantStyles = {
                primary: {
                    backgroundColor: designTokens.colors.primary[600],
                    color: designTokens.colors.white
                },
                secondary: {
                    backgroundColor: designTokens.colors.secondary[100],
                    color: designTokens.colors.secondary[900]
                },
                outline: {
                    backgroundColor: 'transparent',
                    color: designTokens.colors.primary[600],
                    border: `1px solid ${designTokens.colors.primary[600]}`
                },
                ghost: {
                    backgroundColor: 'transparent',
                    color: designTokens.colors.secondary[700]
                },
                danger: {
                    backgroundColor: designTokens.colors.danger[600],
                    color: designTokens.colors.white
                }
            };

            const buttonStyles = {
                ...baseStyles,
                ...sizeStyles[size],
                ...variantStyles[variant],
                opacity: disabled ? 0.6 : 1
            };

            return (
                <button
                    style={buttonStyles}
                    disabled={disabled || loading}
                    onClick={onClick}
                    {...props}
                >
                    {loading && (
                        <span style={{ marginRight: designTokens.spacing[2] }}>‚è≥</span>
                    )}
                    {children}
                </button>
            );
        };

        // Simple Input Component
        const Input = ({ placeholder, value, onChange, error = false, disabled = false, ...props }) => {
            const inputStyles = {
                width: '100%',
                padding: `${designTokens.spacing[3]} ${designTokens.spacing[4]}`,
                border: `1px solid ${error ? designTokens.colors.danger[500] : designTokens.colors.secondary[300]}`,
                borderRadius: designTokens.borderRadius.md,
                fontSize: designTokens.typography.fontSize.base[0],
                lineHeight: designTokens.typography.fontSize.base[1],
                backgroundColor: disabled ? designTokens.colors.secondary[50] : designTokens.colors.white,
                color: designTokens.colors.secondary[900],
                outline: 'none',
                transition: 'border-color 0.2s ease-in-out',
                boxSizing: 'border-box'
            };

            return (
                <input
                    style={inputStyles}
                    placeholder={placeholder}
                    value={value}
                    onChange={onChange}
                    disabled={disabled}
                    {...props}
                />
            );
        };

        // Simple FormField Component
        const FormField = ({ label, children, error, hint, required = false }) => {
            const fieldStyles = {
                marginBottom: designTokens.spacing[4]
            };

            const labelStyles = {
                display: 'block',
                marginBottom: designTokens.spacing[2],
                fontSize: designTokens.typography.fontSize.sm[0],
                fontWeight: designTokens.typography.fontWeight.medium,
                color: designTokens.colors.secondary[700]
            };

            const hintStyles = {
                marginTop: designTokens.spacing[1],
                fontSize: designTokens.typography.fontSize.sm[0],
                color: designTokens.colors.secondary[500]
            };

            const errorStyles = {
                marginTop: designTokens.spacing[1],
                fontSize: designTokens.typography.fontSize.sm[0],
                color: designTokens.colors.danger[600]
            };

            return (
                <div style={fieldStyles}>
                    {label && (
                        <label style={labelStyles}>
                            {label}
                            {required && <span style={{ color: designTokens.colors.danger[500] }}> *</span>}
                        </label>
                    )}
                    {children}
                    {hint && !error && <div style={hintStyles}>{hint}</div>}
                    {error && <div style={errorStyles}>{error}</div>}
                </div>
            );
        };

        // Demo Component
        const DesignSystemDemo = () => {
            const [formData, setFormData] = React.useState({
                email: '',
                amount: '',
                description: ''
            });
            const [errors, setErrors] = React.useState({});
            const [isSubmitting, setIsSubmitting] = React.useState(false);

            const handleInputChange = (field) => (e) => {
                setFormData(prev => ({
                    ...prev,
                    [field]: e.target.value
                }));
                if (errors[field]) {
                    setErrors(prev => ({
                        ...prev,
                        [field]: null
                    }));
                }
            };

            const validateForm = () => {
                const newErrors = {};
                if (!formData.email) newErrors.email = 'Email is required';
                if (!formData.amount) newErrors.amount = 'Amount is required';
                if (!formData.description) newErrors.description = 'Description is required';
                return newErrors;
            };

            const handleSubmit = async (e) => {
                e.preventDefault();
                const newErrors = validateForm();
                setErrors(newErrors);

                if (Object.keys(newErrors).length === 0) {
                    setIsSubmitting(true);
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    setIsSubmitting(false);
                    alert('Form submitted successfully!');
                    setFormData({ email: '', amount: '', description: '' });
                }
            };

            const containerStyles = {
                maxWidth: '800px',
                margin: '0 auto',
                padding: designTokens.spacing[6],
                backgroundColor: designTokens.colors.white,
                minHeight: '100vh'
            };

            const headerStyles = {
                textAlign: 'center',
                marginBottom: designTokens.spacing[8]
            };

            const titleStyles = {
                fontSize: designTokens.typography.fontSize['3xl'][0],
                fontWeight: designTokens.typography.fontWeight.bold,
                color: designTokens.colors.secondary[900],
                marginBottom: designTokens.spacing[4]
            };

            const sectionStyles = {
                marginBottom: designTokens.spacing[8],
                padding: designTokens.spacing[6],
                border: `1px solid ${designTokens.colors.secondary[200]}`,
                borderRadius: designTokens.borderRadius.lg,
                backgroundColor: designTokens.colors.secondary[50]
            };

            const sectionTitleStyles = {
                fontSize: designTokens.typography.fontSize.xl[0],
                fontWeight: designTokens.typography.fontWeight.semibold,
                color: designTokens.colors.secondary[800],
                marginBottom: designTokens.spacing[4]
            };

            const buttonGroupStyles = {
                display: 'flex',
                gap: designTokens.spacing[3],
                justifyContent: 'center',
                marginTop: designTokens.spacing[6],
                flexWrap: 'wrap'
            };

            return (
                <div style={containerStyles}>
                    <header style={headerStyles}>
                        <h1 style={titleStyles}>EnterpriseCashFlow Design System</h1>
                        <p style={{ color: designTokens.colors.secondary[600] }}>
                            Phase 1 Foundation Components Demo
                        </p>
                    </header>

                    <section style={sectionStyles}>
                        <h2 style={sectionTitleStyles}>Button Components</h2>
                        <p style={{ marginBottom: designTokens.spacing[4], color: designTokens.colors.secondary[600] }}>
                            Accessible button components with multiple variants and states.
                        </p>
                        <div style={buttonGroupStyles}>
                            <Button variant="primary" size="sm">Primary Small</Button>
                            <Button variant="secondary" size="md">Secondary Medium</Button>
                            <Button variant="outline" size="lg">Outline Large</Button>
                            <Button variant="ghost">Ghost Button</Button>
                            <Button variant="danger" disabled>Disabled Danger</Button>
                            <Button variant="primary" loading>Loading State</Button>
                        </div>
                    </section>

                    <section style={sectionStyles}>
                        <h2 style={sectionTitleStyles}>Form Components</h2>
                        <p style={{ marginBottom: designTokens.spacing[4], color: designTokens.colors.secondary[600] }}>
                            Accessible form components with validation and real-time feedback.
                        </p>
                        <form onSubmit={handleSubmit}>
                            <FormField
                                label="Email Address"
                                required
                                error={errors.email}
                                hint="We'll use this to send you transaction confirmations"
                            >
                                <Input
                                    type="email"
                                    placeholder="Enter your email address"
                                    value={formData.email}
                                    onChange={handleInputChange('email')}
                                    error={!!errors.email}
                                />
                            </FormField>

                            <FormField
                                label="Transaction Amount"
                                required
                                error={errors.amount}
                                hint="Enter amount in USD (e.g., 123.45)"
                            >
                                <Input
                                    type="text"
                                    placeholder="0.00"
                                    value={formData.amount}
                                    onChange={handleInputChange('amount')}
                                    error={!!errors.amount}
                                />
                            </FormField>

                            <FormField
                                label="Description"
                                required
                                error={errors.description}
                                hint="Provide a detailed description"
                            >
                                <Input
                                    type="text"
                                    placeholder="Enter transaction description"
                                    value={formData.description}
                                    onChange={handleInputChange('description')}
                                    error={!!errors.description}
                                />
                            </FormField>

                            <div style={buttonGroupStyles}>
                                <Button
                                    type="submit"
                                    variant="primary"
                                    size="lg"
                                    loading={isSubmitting}
                                    disabled={isSubmitting}
                                >
                                    {isSubmitting ? 'Submitting...' : 'Submit Transaction'}
                                </Button>
                                <Button
                                    type="button"
                                    variant="outline"
                                    size="lg"
                                    onClick={() => {
                                        setFormData({ email: '', amount: '', description: '' });
                                        setErrors({});
                                    }}
                                    disabled={isSubmitting}
                                >
                                    Reset Form
                                </Button>
                            </div>
                        </form>
                    </section>

                    <section style={sectionStyles}>
                        <h2 style={sectionTitleStyles}>Accessibility Features</h2>
                        <p style={{ marginBottom: designTokens.spacing[4], color: designTokens.colors.secondary[600] }}>
                            All components follow WCAG 2.1 AA guidelines and include:
                        </p>
                        <ul style={{ 
                            marginLeft: designTokens.spacing[6], 
                            color: designTokens.colors.secondary[700],
                            lineHeight: designTokens.typography.lineHeight.relaxed
                        }}>
                            <li>Proper ARIA attributes and labels</li>
                            <li>Keyboard navigation support</li>
                            <li>Focus management and visual indicators</li>
                            <li>Screen reader announcements</li>
                            <li>High contrast color ratios</li>
                            <li>Semantic HTML structure</li>
                        </ul>
                    </section>
                </div>
            );
        };

        // Render the demo
        try {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<DesignSystemDemo />);
        } catch (error) {
            document.getElementById('root').innerHTML = `
                <div class="error">
                    <div>
                        <h2>Error Loading Demo</h2>
                        <p>There was an error loading the design system demo.</p>
                        <p>Error: ${error.message}</p>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>